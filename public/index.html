<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link href='https://fonts.googleapis.com/css?family=Alfa Slab One' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Lora' rel='stylesheet'>
  <title>API THIRUKKURAL</title>
  <meta name="google-site-verification" content="JRXNBjJFAazcYpK4ANy3kl0-pim0WdbqWulwkZ1LKiE" />
</head>
<style>
  body {
    background-color: black;
    color: white;
    font-family: Lora;
  }

  #ttl {
    text-align: center;
    font-size: 5vh;
    font-family: "Alfa Slab One";
  }

  .nav {
    font-weight: bold;
    margin-bottom: 5px;
    background-color: white;
    position: sticky;
    top: 0px;
    z-index: 1;
  }

  #kural_no_txt {
    background-color: black;
    color: yellow;
    border: none;
    width: 4ch;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  #tvl_img {
    margin: 20px auto;
    display: block;
    height: 30vh;
    border: 2px solid red;
    border-radius: 20px;
  }

  #res_txt {
    color: white;
    font-size: 2.5vh;
    height: 60vh;
    background-color: black;
    white-space: pre-wrap;
    overflow: auto;
    border: 2px solid greenyellow;
    margin: auto;
    padding: 10px;
  }

  .ret_par {
    font-weight: bold;
    margin: 5px;
    color: yellow;
  }

  .ret_data {
    font-style: oblique;
    margin: 5px;
  }

  .url {

    white-space: nowrap;
    overflow: auto;
    border: 2px solid blue;
    border-radius: 5px;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 8px;
    padding: 1vh;
  }

  #exmp {
    display: block;
    white-space: nowrap;
    overflow: auto;
    border: 2px solid red;
    padding: 3px;
    border-radius: 5px;
    max-width: 350px;
    margin: auto;
  }

  .panel {
    margin-left: auto;
    margin-right: auto;
    max-width: 600px;
  }

  .panel-body {
    background-color: black;
  }

  .panel-heading {
    position: sticky;
    top: 41px;
  }

  hr {
    margin: 10px;
  }

  #ovrw {
    margin: 15px;
    font-size: 3vh;
  }

  .yellow {
    color: yellow;
    font-weight: bold;
  }

  .ttl2 {
    font-weight: bold;
    font-size: 4vh;
    text-align: center;
    font-weight: bold;
    color: deepskyblue;
    text-align: center;
  }

  #samp {
    margin: 10px;
  }

  #get_btn {
    display: block;
    margin: 5px auto;

  }

  #foot {
    text-align: center;
    font-size: 2.5vh;

    color: orange;
    font-weight: bold;
    margin-bottom: 10px;
  }

  #loader {
    display: block;
    border: 2vh solid green;
    border-radius: 50%;
    border-top: 2vh solid red;
    width: 15vh;
    height: 15vh;
    animation: spin 2s linear infinite;
    margin: auto;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }

    100% {
      transform: rotate(360deg);
    }
  }

  .notice {
    margin: 20px;
    border: 5px solid red;
    padding: 15px;
    border-radius: 30px;
  }
</style>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<body>
  <div id="ttl">API for <span style="color: darkorange;">THIRUKKURAL</span></div>
  <ul class="nav nav-pills">
    <li class="active"><a data-toggle="pill" href="#ovrw">OVERVIEW</a></li>
    <li><a data-toggle="pill" href="#docs">DOCUMENTATION</a></li>
    <li><a data-toggle="pill" href="#samp">EXAMPLE</a></li>

  </ul>
  <div class="tab-content">
    <div id="ovrw" class="tab-pane fade active in ">
      <div class="container">
        <div class="ttl2">[ -- MY FIRST API -- ]</div>
        <div style="text-align: center;font-size: 4.5vh;font-weight: bold;color: lawngreen;"> -- AGILAN -- </div>
        <div style="text-align: center;"> -- <a href="https://agilan-pro.web.app/">agilan-pro.web.app</a> --
        </div>
        <hr>
        <div class="notice">
          <div style="text-align: center; color: blue; font-weight: bold;">NOTE</div>
          Due to <a href="https://firebase.google.com/support/faq?authuser=0#expandable-12">changes</a> in the Firebase
          Policies,
          the api URL<br>
          <div style="color:red; word-break: break-all;">https://api-thirukkural.web.app/api?num=x</div>is to be
          retired from 15 March, 2021.
          Developers using the deprecated URL are therefore requested to migrate and update to the new URL from Vercel
          Functions:
          <div style=" word-break: break-all;"><a
              href="https://api-thirukkural.vercel.app/api?num=1">https://api-thirukkural.vercel.app/api?num=x</a></div>
        </div>
        &nbsp;&nbsp;&nbsp;<span class="yellow">Thirukkural</span> is considered to be the world's greatest work on
        ethics
        and morality gifted by the Tamilians.
        <img id="tvl_img" src="res/thiruvalluvar.png">
        &nbsp;&nbsp;&nbsp;Written by the poetic saint <span class="yellow">Thiruvalluvar</span>, it is the collection of
        1330 two-lined poems, each of which shows the path to <span class="yellow">integrity, non-violence and
          knowledge.</span><br>
        &nbsp;&nbsp;&nbsp;I have designed an API with <span class="yellow">Cloud Functions</span> that returns the poem,
        explanation and english translation for a given Kural Number.
        <br>&nbsp;&nbsp;&nbsp;<span class="yellow">Developers</span> (I meant 'YOU') are called for using this
        API...<br><br>
        <div style="font-size:3vh ; text-align: center;"><span> -- Special Credits -- </span><br>
          (Database Forked from)<br><a style="font-weight: bold;"
            href="https://github.com/tk120404/thirukkural">Arjunkumar
            tk120404</a></div><br>
        <hr>
        <div style="color:lawngreen;font-size:2.5vh;font-weight: bold;">
          <span style="float: left;">வாழ்க தமிழ் !<br>(Long live, Tamil !)</span>
          <span style="text-align: right; float: right;">வெல்க தமிழர் !!<br>(Achieve, Tamilians !!)</span>
        </div>
      </div>
    </div>

    <div id="docs" class="tab-pane fade">
      <div class="container">
        <div class="panel panel-primary">
          <div class="panel-heading">URL STRUCTURE<button id="copy_btn" onclick="copy_clk()" class="btn btn-success"
              style="float:right;padding: 0 10px;">COPY</button></div>
          <div class="panel-body">
            <div class="url">
              https://api-thirukkural.vercel.app/api?num={kural_num}</div>
            <span class="ret_par">{kural_num}</span>The required kural poem number<br>
          </div>
        </div>
        <div class="panel panel-primary">
          <div class="panel-heading">HTTP REQUEST METHOD</div>
          <div class="panel-body">GET</div>
        </div>
        <div class="panel panel-primary">
          <div class="panel-heading">RETURNS</div>
          <div id="ret_cont" class="panel-body">A <span class="ret_par">JSON object</span> with following properties
            :<br>
            <hr>
            <span class="ret_par">number</span>
            <span class="ret_data label label-success">int</span><br>
            The kural poem number that is returned<br>
            <hr>
            <span class="ret_par">sect_tam</span>
            <span class="ret_data label label-success">string</span><br>
            The section (in Tamil) to which the poem belongs<br>
            <hr>
            <span class="ret_par">chapgrp_tam</span>
            <span class="ret_data label label-success">string</span><br>
            The Chapter Group (in Tamil) to which the poem belongs<br>
            <hr>
            <span class="ret_par">chap_tam</span>
            <span class="ret_data label label-success">string</span><br>
            The Chapter (in Tamil) to which the poem belongs<br>
            <hr>
            <span class="ret_par">line1</span>
            <span class="ret_data label label-success">string</span><br>
            The First Line (in Tamil) of the poem<br>
            <hr>
            <span class="ret_par">line2</span>
            <span class="ret_data label label-success">string</span><br>
            The Second Line (in Tamil) of the poem<br>
            <hr>
            <span class="ret_par">tam_exp</span>
            <span class="ret_data label label-success">string</span><br>
            The explanation (in Tamil) of the poem<br>
            <hr>
            <span class="ret_par">sect_eng</span>
            <span class="ret_data label label-success">string</span><br>
            The section (in English) to which the poem belongs<br>
            <hr>
            <span class="ret_par">chapgrp_eng</span>
            <span class="ret_data label label-success">string</span><br>
            The Chapter Group (in English) to which the poem belongs<br>
            <hr>
            <span class="ret_par">chap_eng</span>
            <span class="ret_data label label-success">string</span><br>
            The Chapter (in English) to which the poem belongs<br>
            <hr>
            <span class="ret_par">eng</span>
            <span class="ret_data label label-success">string</span><br>
            The poem traslated to English<br>
            <hr>
            <span class="ret_par">eng_exp</span>
            <span class="ret_data label label-success">string</span><br>
            The explanation (in English) of the poem<br>
          </div>
        </div>
      </div>
    </div>

    <div id="samp" class="tab-pane fade">
      <div class="container">
        <div id="foot">[Try changing the kural number in the URL...]</div>
        <span id="exmp">
          <span>https://api-thirukkural.vercel.app/api?num=</span><input id="kural_no_txt" onchange="go_clk()"
            type="number" min="1" max="1330" value="1">
        </span>
        <button class="btn btn-success" id="get_btn" onclick="go_clk()">GET</button>
        <div id="res_txt">{
          "number": 1,
          "sect_tam": "அறத்துப்பால்",
          "chapgrp_tam": "பாயிரவியல்",
          "chap_tam": "கடவுள் வாழ்த்து",
          "line1": "அகர முதல எழுத்தெல்லாம் ஆதி",
          "line2": "பகவன் முதற்றே உலகு.",
          "tam_exp": "அகரம் எழுத்துக்களுக்கு முதன்மை; ஆதிபகவன், உலகில் வாழும் உயிர்களுக்கு முதன்மை",
          "sect_eng": "Virtue",
          "chapgrp_eng": "Prologue",
          "chap_eng": "The Praise of God",
          "eng": "'A' leads letters; the Ancient Lord Leads and lords the entire world",
          "eng_exp": "As the letter A is the first of all letters, so the eternal God is first in the world"
          }
        </div>
      </div>
    </div>
  </div>

  <input style="position: absolute;top:-100px;" id="copy" type="text"
    value="https://api-thirukkural.vercel.app/api?num=1">
</body>
<script>
  function go_clk() {
    res_txt.innerHTML = `<div id="loader"></div>`;

    fetch('https://api-thirukkural.vercel.app/api?num=' + kural_no_txt.value)
      .then(res => res.json())
      .then(data => {
        res_txt.innerHTML = JSON.stringify(data, null, 2).toString()
      })
      .catch(e => {
        res_txt.innerHTML = "ERROR " + e;
      });
    /*
  $.ajax({
    url: 'https://api-thirukkural.vercel.app/api?num=' + kural_no_txt.value,
    type: 'GET'
  }).fail(function (data) {
    res_txt.innerHTML = "ERROR " + data.status + ": " + data.responseText;
  })
    .done(function (data) {
      res_txt.innerHTML = JSON.stringify(data, null, 2).toString();
    })*/
  }
  function copy_clk() {
    if (navigator.clipboard)
      navigator.clipboard.writeText("https://api-thirukkural.vercel.app/api?num=1").then(alert("URL Copied to Clipboard"));
    else {
      var copyText = document.getElementById("copy");
      copyText.select();
      copyText.setSelectionRange(0, 50)
      document.execCommand("copy");
      alert("URL Copied to Clipboard");
      copy_btn.focus();
    }
  }
</script>

</html>